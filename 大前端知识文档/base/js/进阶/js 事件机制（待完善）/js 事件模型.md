# JS 事件模型

<https://baijiahao.baidu.com/s?id=1784680378981458690&wfr=spider&for=pc>

<https://zhuanlan.zhihu.com/p/536139113>

<https://blog.csdn.net/weixin_47450807/article/details/122646045>

JavaScript 中的事件模型是一种用于处理用户交互和其他类型事件的机制。它允许开发人员对特定事件做出响应，并执行相应的代码，实际上，事件模型其实就是**观察者模式**的体现。

## 1. 了解事件模型

JS 的事件模型基于事件驱动编程的概念，它主要有以下几个组成部分：

* 【事件目标（Event Target）】--- 事件目标是**触发事件的对象**，它可以是文档、窗口、HTML 元素或其他 JS 对象。每个事件目标都可以监听和触发事件。
* 【事件监听器（Event Listener）】--- 事件监听器是一个**函数**，用于**定义事件发生时要执行的代码**。通过将事件监听器附加到事件目标上，可以告诉 JS 在事件发生时调用指定的函数。
* 【事件类型（Event Type）】--- 每一种特定的事件都有其对应的事件类型，比如：点击事件（click）、键盘按下事件（keydown）、鼠标移动事件（mousemove）等等。**每个事件类型都有其特定的属性和行为**。
* 【事件处理程序（Event Handler）】--- 类似事件监听器，事件处理程序也是一个**函数**，它被分配给特定事件类型的监听器，当事件发生时，事件处理程序会被调用，并执行相关的代码。
* 【事件对象（Event Object）】--- 事件对象是一个包含**有关事件的信息**的对象。它提供了与事件相关的属性和方法，可以用于获取事件的详细信息，如事件目标、事件类型等等。

事件模型的基本流程如下：

1. 定位到要监听事件的目标对象
2. 定义事件监听器，并提供事件处理程序
3. 将事件监听器附加到目标对象的特定事件类型上
4. 当事件发生时，事件目标将触发相应的事件，并调用相应的事件处理程序函数
5. 在事件处理程序函数中，进行相应的处理。

事件模型可以分为三种：

* 原始事件模型（DOM0级）
* 标准事件模型（DOM2级）
* IE事件模型

但在具体介绍这三种事件模型之前，我们还需要了解**事件流**的概念。

## 2. 事件流

由于 DOM 是一个树结构，如果在父子节点绑定事件时候，当触发子节点的时候，就存在一个顺序问题，这就涉及到了事件流的概念，而不同的事件模型中，事件流是不同的。

所谓**事件流（Event Flow）**，是指描述事件在 DOM 树中传播和触发的顺序。当事件发生时，它会在 DOM 树的不同节点间传播，最终触发相应的事件处理程序。
