# JS 设计模式

## 什么是设计模式？

《JavaScript设计模式与开发实践》一书的作者对设计模式进行了简单的说明解释：

> 假设有一个空房间，我们要日复一日地往里面放一些东西。最简单的办法当然是把这些东西直接扔进去，但是时间久了，就会发现很难从这个房子里找到自己想要的东西，要调整某几样东西的位置也不容易。所以在房间里做一些柜子也许是个更好的选择，虽然柜子会增加我们的成本，但它可以在维护阶段为我们带来好处。使用这些柜子存放东西的规则，或许就是一种模式。

这一形象的比喻也回答了为什么我们要学习设计模式这个问题：学习设计模式，能够帮助我们写出可复用、可维护性高的程序。

设计模式的核心原则是：

> 找出程序中变化的地方，并将变化封装起来

其关键在于【意图】，而不是【结构】

## 设计模式的三大原则

### 单一职责原则（SRP）

一个对象或方法，只做一件事情。如果一个对象或方法承担了过多的职责，那么在需求变迁的过程中，需要改写这个方法的可能性就越大。

即，我们在编写程序时，应当把对象或方法划分成较小的颗粒。

### 最少知识原则（LKP）

一个软件试题应当尽可能少地与其它试题发生相互作用。

即，应当尽量减少对象之间的交互。如果两个对象之间不必彼此直接通信，那么这两个对象就不要发生直接的相互联系，可以转交给第三方进行处理

### 开放-封闭原则（OCP）

软件实体（类、模块、函数）等应该是可以扩展的，但是不可修改。

当需要改变一个程序的功能或者给这个程序增加新功能时，可以使用增加代码的方式，经理避免改动程序的源代码，防止影响原系统的稳定。