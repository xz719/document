# 遇到的问题整理

## 1. Vue3 `<transition>` 标签属性 `mode="out-in"` 页面跳转出现空白

[参考此文章](https://blog.csdn.net/weixin_50587417/article/details/130677856)

## 2. Vue3 CSS 中可以使用 `v-bind`

```vue
<script setup>
const test = ref("2px")
</script>

<style lang="less" scoped>
.test {
    margin-left: v-bind(test)
}
</style>
```

## 3. `v-for` 时 `key` 重复导致循环元素重复或错乱

在实际工作中，我们常常会需要将后端返回的列表数据遍历并展示在页面上，此时我们可以用 `index` 或每一项数据本身的某一唯一标识，来作为 `v-for` 时的 `key`。这样的做法在一般情况下是不会有问题的，但如果这个列表数据会变化，且两次不同列表数据中的某些项会有重复的 `key` ，此时就会导致**页面内容的错乱**，一般具体表现为列表项的重复、位置错误等，实际上，这一问题在交互性较强的列表（例如：标签筛选列表）中是很有可能出现的。

如何解决这一问题呢？

既然是 `key` 重复导致的，那么我们让每一数据项在列表变化前后的 `key` 不同不就可以了嘛。所以，我们可以**使用 `index + 毫秒时间戳` 来作为数据项的 `key`**。

至于为什么重复的 `key` 会导致页面内容的错乱，可以去回顾一下 vue 中 **`v-for` 指令**和 **diff 算法**的相关知识，简单来说，就是 vue 在更新 DOM 时，只会更新 `key` 不同的 DOM 元素。

## 4. webpack 中使用 `require` 时，路径必须有静态的部分

在开发中经常会遇到需要动态访问静态资源的情况，此时我们可以通过 webpack 提供的 `require` 方法去依赖静态资源，但要注意使用 `require` 时，传入的路径不能是全动态的，必须有静态的部分。

这是因为，在打包时并不会执行代码，因此对于动态路径， webpack 并不知道我们具体依赖了哪个文件，所以它做出的处理是识别 `require` 中路径的**静态部分**，并**将静态部分对应的目录下的所有文件都形成依赖并加入到打包结果中**！所以，如果路径是全动态的，webpack 就找不到要依赖的目录也就无法形成依赖了。
